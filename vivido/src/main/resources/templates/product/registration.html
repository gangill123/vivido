<!DOCTYPE html>
<html lang="en">
<html xmlns:th="http://www.thymeleaf.org">

<!-- jQuery -->
<script th:src="@{https://code.jquery.com/jquery-3.6.0.min.js}"></script>

<head th:replace="layout/header :: head (VIVIDO)">		
</head>


<body id="page-top">

    <!-- Page Wrapper -->
    <div id="wrapper">

        <!-- Sidebar -->
 	<sidebar th:replace="layout/sidebar :: sidebar"></sidebar>
        <!-- End of Sidebar -->

        <!-- Content Wrapper -->
        <div id="content-wrapper" class="d-flex flex-column">

            <!-- Main Content -->
         <main th:replace="layout/main :: main"></main>
			<!--  ì»¨í…ì¸  ì‘ì„±ë€ -->		 
			<div class="container mt-5">
			    <!-- ìƒí’ˆ ë“±ë¡ ì¹´ë“œ -->
			    <div class="card shadow-lg rounded">
			        <div class="card-header bg-primary text-white">
			            <h2 class="h4 mb-0">ìƒí’ˆ ë“±ë¡</h2>
			        </div>
			        <div class="card-body">
						<form onsubmit="event.preventDefault(); registerProduct();" id="productForm">
						    <div class="table-responsive">
						        <table class="table table-bordered">
						            <tbody>
						                <!-- ê¸°ë³¸ ì •ë³´ -->
						                <tr><th colspan="2" class="bg-light text-center">ğŸ“Œ ê¸°ë³¸ ì •ë³´</th></tr>
						                <tr>
						                    <th scope="row" class="align-middle">ìƒí’ˆ ID</th>
						                    <td><input type="text" class="form-control form-control-sm" id="productId" placeholder="ìƒí’ˆ ID ì…ë ¥" required></td>
						                </tr>
						                <tr>
						                    <th scope="row" class="align-middle">ì¹´í…Œê³ ë¦¬</th>
						                    <td>
						                        <div class="d-flex">
						                            <select class="form-control form-control-sm mr-3" id="productCategory" onchange="updateSubCategory();">
						                                <option value="">ì¹´í…Œê³ ë¦¬ ì„ íƒ</option>
						                                <option value="electronics">ì „ìì œí’ˆ</option>
						                                <option value="clothing">ì˜ë¥˜</option>
						                                <option value="books">ë„ì„œ</option>
						                            </select>
						                            <select class="form-control form-control-sm" id="productCategoryDetails" style="display:none;">
						                                <option value="">ì„¸ë¶„ë¥˜ ì„ íƒ</option>
						                            </select>
						                        </div>
						                    </td>
						                </tr>
						                <tr>
						                    <th scope="row" class="align-middle">ìƒí’ˆëª…</th>
						                    <td><input type="text" class="form-control form-control-sm" id="productName" placeholder="ìƒí’ˆëª… ì…ë ¥" required></td>
						                </tr>

						                <!-- ê°€ê²© ë° ì¬ê³  ì •ë³´ -->
						                <tr><th colspan="2" class="bg-light text-center">ğŸ’° ê°€ê²© ë° ì¬ê³  ì •ë³´</th></tr>
										<!-- ê°€ê²© -->
										<tr>
										    <th scope="row" class="align-middle">ë Œíƒˆê°€</th>
										    <td>
										        <input type="number" class="form-control form-control-sm" id="productPrice" placeholder="ê°€ê²© ì…ë ¥" oninput="calculateDiscount()" required>
										    </td>
										</tr>

										<!-- í• ì¸ìœ¨ -->
										<tr>
										    <th scope="row" class="align-middle">í• ì¸ìœ¨</th>
										    <td>
										        <input type="number" class="form-control form-control-sm" id="discountRate" placeholder="í• ì¸ìœ¨ ì…ë ¥" oninput="calculateDiscount()">
										    </td>
										</tr>

										<!-- í• ì¸ëœ ê°€ê²© -->
										<tr>
										    <th scope="row" class="align-middle">í• ì¸ê°€</th>
										    <td>
										        <input type="number" class="form-control form-control-sm" id="discountedPrice" readonly>
										    </td>
										</tr>

										
						                <tr>
						                    <th scope="row" class="align-middle">ì¬ê³ </th>
						                    <td><input type="number" class="form-control form-control-sm" id="productStock" placeholder="ì¬ê³  ì…ë ¥" required></td>
						                </tr>

						                <!-- ìƒì„¸ ì •ë³´ -->
						                <tr><th colspan="2" class="bg-light text-center">ğŸ“¦ ìƒì„¸ ì •ë³´</th></tr>
						                <tr>
						                    <th scope="row" class="align-middle">ìƒí’ˆ í‚¤ì›Œë“œ</th>
						                    <td><input type="text" class="form-control form-control-sm" id="productKeyword" placeholder="ìƒí’ˆ í‚¤ì›Œë“œ ì…ë ¥" required></td>
						                </tr>
						                <tr>
						                    <th scope="row" class="align-middle">ë¸Œëœë“œ</th>
						                    <td><input type="text" class="form-control form-control-sm" id="brand" placeholder="ìƒí’ˆ ë¸Œëœë“œ ì…ë ¥" required></td>
						                </tr>
						                <tr>
						                    <th scope="row" class="align-middle">ì œì¡°ì‚¬</th>
						                    <td><input type="text" class="form-control form-control-sm" id="manufacturer" placeholder="ìƒí’ˆ ì œì¡°ì‚¬ ì…ë ¥" required></td>
						                </tr>
						                <tr>
						                    <th scope="row" class="align-middle">ì›ì‚°ì§€</th>
						                    <td><input type="text" class="form-control form-control-sm" id="productOrigin" placeholder="ìƒí’ˆ ì›ì‚°ì§€ ì…ë ¥" required></td>
						                </tr>
										
										
										
										<!-- ë°°ì†¡ ê´€ë ¨ ì •ë³´ ì¶”ê°€ -->
										<tr><th colspan="2" class="bg-light text-center">ğŸ“¦ ë°°ì†¡ ì •ë³´</th></tr>
										<tr>
										    <th scope="row" class="align-middle">ë°°ì†¡ ë°©ë²•</th>
										    <td><input type="text" class="form-control form-control-sm" id="deliveryMethod" placeholder="ë°°ì†¡ ë°©ë²• ì…ë ¥" required></td>
										</tr>
										<tr>
										    <th scope="row" class="align-middle">íƒë°°ì‚¬</th>
										    <td><input type="text" class="form-control form-control-sm" id="deliveryCompany" placeholder="íƒë°°ì‚¬ ì…ë ¥" required></td>
										</tr>
										<tr>
										    <th scope="row" class="align-middle">ë°°ì†¡ë¹„</th>
										    <td><input type="number" class="form-control form-control-sm" id="deliveryPrice" placeholder="ë°°ì†¡ë¹„ ì…ë ¥" required></td>
										</tr>
										<tr>
										    <th scope="row" class="align-middle">ì¶œê³ ì§€</th>
										    <td><input type="text" class="form-control form-control-sm" id="address" placeholder="ì¶œê³ ì§€ ì…ë ¥" required></td>
										</tr>
										
										
										
										

						                <!-- ìƒí’ˆ ì„¤ëª… -->
						                <tr><th colspan="2" class="bg-light text-center">ğŸ“ ìƒí’ˆ ì„¤ëª…</th></tr>
						                <tr>
						                    <th scope="row" class="align-middle">ìƒí’ˆ ë‚´ìš©</th>
						                    <td><textarea class="form-control form-control-sm" id="productContent" rows="4" placeholder="ìƒí’ˆ ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”..."></textarea></td>
						                </tr>
						                <tr>
						                    <th scope="row" class="align-middle">ë¹„ê³  ì…ë ¥</th>
						                    <td><input type="text" class="form-control form-control-sm" id="comments" placeholder="ìƒí’ˆ ë‚´ìš© ì…ë ¥"></td>
						                </tr>
			
			
										<tr>
										    <th scope="row" class="align-middle">ë“±ë¡ì¼</th>
										    <td>
										        <input type="text" class="form-control form-control-sm" id="createDate" readonly>
										    </td>
										</tr>
										

										
									<!-- ì´ë¯¸ì§€ ì—…ë¡œë“œ -->
									<tr>
									    <th scope="row" class="align-middle">ìƒí’ˆ ì´ë¯¸ì§€</th>
									    <td>
									        <!-- ì²¨ë¶€íŒŒì¼ ì—…ë¡œë“œ -->
									        <input type="file" class="form-control form-control-sm no-border" id="productImages" multiple onchange="previewImages()">
									        <div id="imagePreviewContainer" class="mt-3">
									            <!-- ë¯¸ë¦¬ë³´ê¸° ì´ë¯¸ì§€ê°€ ì—¬ê¸°ì— í‘œì‹œë¨ -->
									        </div>
									    </td>
									</tr>
			
									<tr>
									    <th scope="row" class="align-middle">ì¸ë„¤ì¼ ì„ íƒ</th>
									    <td>
									        <select class="form-control form-control-sm" id="thumbnail" onchange="updateThumbnailPreview()">
									            <option value="">ì¸ë„¤ì¼ ì„ íƒ</option>
									            <!-- ì¸ë„¤ì¼ ëª©ë¡ì€ ìë°”ìŠ¤í¬ë¦½íŠ¸ë¡œ ë™ì ìœ¼ë¡œ ì±„ì›Œì§ˆ ì˜ˆì • -->
									        </select>
									        <div id="thumbnailPreview" class="mt-3">
									            <!-- ì¸ë„¤ì¼ ë¯¸ë¦¬ë³´ê¸° ì´ë¯¸ì§€ -->
									        </div>
									    </td>
									</tr>
										
										
			                        </tbody>
			                    </table>
			                </div>
			                <div class="d-flex justify-content-end">
			                    <button type="submit" class="btn btn-lg btn-success">ë“±ë¡</button>
			                </div>
			            </form>
			        </div>
			    </div>
			</div>



			<!-- Summernote CSS -->
			<link th:href="@{https://cdnjs.cloudflare.com/ajax/libs/summernote/0.8.18/summernote-bs4.min.css}" rel="stylesheet">

			<!-- Summernote JS -->
			<script th:src="@{https://cdnjs.cloudflare.com/ajax/libs/summernote/0.8.18/summernote-bs4.min.js}"></script>

			<!-- Summernote í•œêµ­ì–´ ì„¤ì • -->
			<script th:src="@{https://cdnjs.cloudflare.com/ajax/libs/summernote/0.8.18/lang/summernote-ko-KR.min.js}"></script>
			
			<!-- jQuery UI CSS ì¶”ê°€ -->
			<link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
			<!-- jQuery UI JS ì¶”ê°€ -->
			<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
			
<script>
	// í• ì¸ìœ¨ ê³„ì‚° í•¨ìˆ˜ (ë¹„ë™ê¸° ì²˜ë¦¬ ì˜ˆì‹œ)
	function calculateDiscount() {
	    const price = parseFloat(document.getElementById('productPrice').value); // ê°€ê²©
	    const discountRate = parseFloat(document.getElementById('discountRate').value); // í• ì¸ìœ¨

	    if (isNaN(price) || isNaN(discountRate) || price <= 0 || discountRate < 0) {
	        // ê°€ê²©ì´ë‚˜ í• ì¸ìœ¨ì´ ìœ íš¨í•˜ì§€ ì•Šìœ¼ë©´ í• ì¸ëœ ê°€ê²©ì„ ë¹„ì›ë‹ˆë‹¤.
	        document.getElementById('discountedPrice').value = '';
	        return;
	    }

	    // ë¹„ë™ê¸°ì ìœ¼ë¡œ ì²˜ë¦¬í•˜ê¸° ìœ„í•´ì„œ setTimeout ì‚¬ìš©
	    setTimeout(() => {
	        // í• ì¸ëœ ê°€ê²© ê³„ì‚°
	        const discountedPrice = price - (price * (discountRate / 100));

	        // ì •ìˆ˜ë¡œ ë°˜ì˜¬ë¦¼í•˜ì—¬ ê²°ê³¼ë¥¼ ì…ë ¥ë€ì— í‘œì‹œ
	        document.getElementById('discountedPrice').value = Math.round(discountedPrice); // ì •ìˆ˜ë¡œ ë°˜ì˜¬ë¦¼
	    }, 50);  // 50ms ì§€ì—° í›„ ì‹¤í–‰ (í•„ìš”í•œ ì‹œê°„ë§Œí¼ ì¡°ì • ê°€ëŠ¥)
	}
</script>		
			
<script>
	var $jq = jQuery.noConflict();
	$jq(document).ready(function() {
	    // Summernote ì—ë””í„° ì´ˆê¸°í™”
	    $jq('#productContent').summernote({
	        height: 200,
	        placeholder: 'ìƒí’ˆ ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”...',
	        lang: 'ko-KR',  // í•œêµ­ì–´ ì„¤ì •
	        toolbar: [
	            ['style', ['bold', 'italic', 'underline', 'clear']],
	            ['font', ['strikethrough', 'superscript', 'subscript']],
	            ['fontname', ['fontname']],
	            ['para', ['ul', 'ol', 'paragraph']],
	            ['table', ['table']],
	            ['insert', ['link', 'picture', 'video']],
	            ['view', ['fullscreen', 'codeview', 'help']]
	        ],
	        disableDragAndDrop: true,
	        focus: true,
	        callbacks: {
	            onImageUpload: function(files) {
	                var formData = new FormData();
	                formData.append("file", files[0]);

	                // ì´ë¯¸ì§€ ì—…ë¡œë“œ ìš”ì²­
	                $jq.ajax({
	                    url: '/management/products/uploadImage',  // RESTful ì´ë¯¸ì§€ ì—…ë¡œë“œ URL
	                    type: 'POST',
	                    data: formData,
	                    contentType: false,  // ìë™ìœ¼ë¡œ Content-Typeì„ ì„¤ì •í•˜ì§€ ì•ŠìŒ
	                    processData: false,  // ë°ì´í„°ë¥¼ ìë™ìœ¼ë¡œ ì²˜ë¦¬í•˜ì§€ ì•ŠìŒ
	                    success: function(response) {
	                        // ì„œë²„ì—ì„œ ë°˜í™˜ëœ ì´ë¯¸ì§€ URLì„ ì‚¬ìš©í•˜ì—¬ Summernoteì— ì‚½ì…
	                        if (response.fileUrl) {
	                            // ì´ë¯¸ì§€ ì‚½ì… í›„ max-width: 100% ìŠ¤íƒ€ì¼ ì ìš©
	                            $jq('#productContent').summernote('insertImage', response.fileUrl, function($image) {
	                                $image.css('max-width', '100%'); // ì´ë¯¸ì§€ë¥¼ í…Œì´ë¸” í¬ê¸°ì— ë§ê²Œ ì œí•œ
	                            });
	                        } else {
	                            // ì‹¤íŒ¨ ë©”ì‹œì§€ í‘œì‹œ
	                            alert("ì´ë¯¸ì§€ ì—…ë¡œë“œ ì‹¤íŒ¨: ì„œë²„ì—ì„œ ìœ íš¨í•œ URLì„ ë°˜í™˜í•˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.");
	                        }
	                    },
	                    error: function(xhr, status, error) {
	                        // ì‹¤íŒ¨ ë©”ì‹œì§€ í‘œì‹œ
	                        alert("ì´ë¯¸ì§€ ì—…ë¡œë“œ ì‹¤íŒ¨: " + error);
	                    }
	                });
	            }
	        },
	        minHeight: 150,
	        maxHeight: 500,
	        popover: {
	            image: ['resizeFull', 'resizeHalf', 'resizeQuarter', 'floatLeft', 'floatRight', 'imageProperties'],
	            link: ['linkDialogShow', 'unlink'],
	            air: ['style']
	        }
	    });
	});

</script>

	
<script>
		function previewImages() {
		    const files = document.getElementById('productImages').files;
		    const previewContainer = document.getElementById('imagePreviewContainer');
		    const thumbnailSelect = document.getElementById('thumbnail');
		    const thumbnailPreview = document.getElementById('thumbnailPreview');
		    
		    // ë¯¸ë¦¬ë³´ê¸° ì»¨í…Œì´ë„ˆ ì´ˆê¸°í™”
		    previewContainer.innerHTML = '';
		    thumbnailSelect.innerHTML = '<option value="">ì¸ë„¤ì¼ ì„ íƒ</option>'; // ì¸ë„¤ì¼ ì„ íƒ ëª©ë¡ ì´ˆê¸°í™”
		    thumbnailPreview.innerHTML = ''; // ì¸ë„¤ì¼ ë¯¸ë¦¬ë³´ê¸° ì´ˆê¸°í™”
	
		    if (files.length === 0) {
		        return;
		    }
	
		    // ì„ íƒëœ ì´ë¯¸ì§€ íŒŒì¼ë“¤ì„ í•˜ë‚˜ì”© ë¯¸ë¦¬ë³´ê¸°
		    for (let i = 0; i < files.length; i++) {
		        const file = files[i];
		        
		        // ì´ë¯¸ì§€ íŒŒì¼ì¸ì§€ í™•ì¸
		        if (file && file.type.startsWith('image/')) {
		            const reader = new FileReader();
		            
		            reader.onload = function(event) {
		                // ë¯¸ë¦¬ë³´ê¸° ì´ë¯¸ì§€ ìƒì„±
		                const imgElement = document.createElement('img');
		                imgElement.src = event.target.result;
		                imgElement.classList.add('img-fluid', 'preview-image');
		                imgElement.style.maxWidth = '150px'; // í¬ê¸° ì œí•œ (í•„ìš”ì‹œ ì¡°ì •)
		                imgElement.style.margin = '5px';
		                
		                previewContainer.appendChild(imgElement);
		                
		                // ì¸ë„¤ì¼ ì„ íƒ ëª©ë¡ ì¶”ê°€
		                const option = document.createElement('option');
		                option.value = event.target.result; // ì´ë¯¸ì§€ì˜ Data URLì„ ê°’ìœ¼ë¡œ ì„¤ì •
		                option.textContent = `Image ${i + 1}`;
		                thumbnailSelect.appendChild(option);
		            };
		            
		            // íŒŒì¼ì„ ì½ì–´ì„œ ì´ë¯¸ì§€ë¥¼ ë¯¸ë¦¬ë³´ê¸°
		            reader.readAsDataURL(file);
		        }
		    }
		}
	
		// ì¸ë„¤ì¼ ì„ íƒ ì‹œ ë¯¸ë¦¬ë³´ê¸° ì—…ë°ì´íŠ¸
		function updateThumbnailPreview() {
		    const thumbnailSelect = document.getElementById('thumbnail');
		    const thumbnailPreview = document.getElementById('thumbnailPreview');
		    const selectedThumbnail = thumbnailSelect.value;
	
		    // ì¸ë„¤ì¼ ë¯¸ë¦¬ë³´ê¸° ì´ˆê¸°í™”
		    thumbnailPreview.innerHTML = '';
	
		    if (selectedThumbnail) {
		        const imgElement = document.createElement('img');
		        imgElement.src = selectedThumbnail;
		        imgElement.classList.add('img-fluid');
		        imgElement.style.maxWidth = '150px'; // ì¸ë„¤ì¼ ë¯¸ë¦¬ë³´ê¸° í¬ê¸°
		        imgElement.style.margin = '5px';
		        
		        thumbnailPreview.appendChild(imgElement);
		    }
		}
		   
		
</script>


	
<script>
	    // ì¹´í…Œê³ ë¦¬ì— ë”°ë¼ ì„¸ë¶„ë¥˜ ì˜µì…˜ì„ ì—…ë°ì´íŠ¸í•˜ëŠ” í•¨ìˆ˜
	    function updateSubCategory() {
	        var category = document.getElementById("productCategory").value;
	        var subCategorySelect = document.getElementById("productCategoryDetails");
	        var subCategories = {
	            electronics: ["íœ´ëŒ€í°", "ì»´í“¨í„°", "ì¹´ë©”ë¼"],
	            clothing: ["ìƒì˜", "í•˜ì˜", "ì•„ìš°í„°"],
	            books: ["ì†Œì„¤", "ì—ì„¸ì´", "ìê¸°ê³„ë°œ"]
	        };
	
	        // ì„¸ë¶„ë¥˜ ë°•ìŠ¤ë¥¼ ì´ˆê¸°í™”
	        subCategorySelect.innerHTML = '<option value="">ì„¸ë¶„ë¥˜ ì„ íƒ</option>';
	
	        if (category) {
	            // ì„ íƒëœ ì¹´í…Œê³ ë¦¬ì— ë”°ë¼ ì„¸ë¶„ë¥˜ í•­ëª©ì„ ì¶”ê°€
	            subCategories[category].forEach(function(subCategory) {
	                var option = document.createElement("option");
	                option.value = subCategory.toLowerCase();
	                option.text = subCategory;
	                subCategorySelect.appendChild(option);
	            });
	            subCategorySelect.style.display = "block"; // ì„¸ë¶„ë¥˜ ë°•ìŠ¤ ë³´ì´ê¸°
	        } else {
	            subCategorySelect.style.display = "none"; // ì¹´í…Œê³ ë¦¬ê°€ ì„ íƒë˜ì§€ ì•Šìœ¼ë©´ ì„¸ë¶„ë¥˜ ë°•ìŠ¤ ìˆ¨ê¸°ê¸°
	        }
	    }
</script>
	
<script>
		document.addEventListener('DOMContentLoaded', function() {
		    const today = new Date();
		    const year = today.getFullYear();
		    const month = String(today.getMonth() + 1).padStart(2, '0');
		    const day = String(today.getDate()).padStart(2, '0');
		    const formattedDate = `${year}-${month}-${day}`;
		    
		    document.getElementById('createDate').value = formattedDate;
		});
		
</script>
	  
  
<script>
	function registerProduct() {
	    const formData = new FormData();
	    
	    // ì¼ë°˜ ìƒí’ˆ ë°ì´í„°
	    formData.append('productId', document.getElementById('productId').value);
	    formData.append('productCategory', document.getElementById('productCategory').value);
	    formData.append('productCategoryDetails', document.getElementById('productCategoryDetails').value);
	    formData.append('productKeyword', document.getElementById('productKeyword').value);
	    formData.append('productName', document.getElementById('productName').value);
	    formData.append('productPrice', document.getElementById('productPrice').value);
	    formData.append('discountedPrice', document.getElementById('discountedPrice').value);
	    formData.append('discountRate', document.getElementById('discountRate').value);
	    formData.append('productStock', document.getElementById('productStock').value);

		// ì¸ë¨¸ë…¸íŠ¸ì—ì„œ ê°’ ê°€ì ¸ì˜¤ê¸°
		formData.append('productContent', $jq('#productContent').summernote('code'));  // ë³€ê²½ëœ ë¶€ë¶„
		console.log('productContent:', productContent);  // ê°’ í™•ì¸
		
		
		// ë°°ì†¡ ê´€ë ¨ ì •ë³´ ì¶”ê°€
		formData.append('deliveryMethod', document.getElementById('deliveryMethod').value);
		formData.append('deliveryCompany', document.getElementById('deliveryCompany').value);
		formData.append('deliveryPrice', document.getElementById('deliveryPrice').value);
		formData.append('address', document.getElementById('address').value);
		
	    formData.append('brand', document.getElementById('brand').value);
	    formData.append('manufacturer', document.getElementById('manufacturer').value);
	    formData.append('productOrigin', document.getElementById('productOrigin').value);
	    formData.append('createDate', document.getElementById('createDate').value);
	    formData.append('comments', document.getElementById('comments').value);

	    // ì´ë¯¸ì§€ íŒŒì¼ (ë‹¤ì¤‘ ì´ë¯¸ì§€)
		const productImages = document.getElementById('productImages').files;
		if (productImages.length > 0) {
		    for (let i = 0; i < productImages.length; i++) {
		        formData.append('productImages', productImages[i]);
		    }
		} else {
		    console.error('ì´ë¯¸ì§€ê°€ ì„ íƒë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.');
		}

	    // ì¸ë„¤ì¼ ì„ íƒ
	    const thumbnailSelect = document.getElementById('thumbnail');
	    const selectedThumbnail = thumbnailSelect.value;
	    formData.append('thumbnail', selectedThumbnail);

	    // RESTful API í˜¸ì¶œ
	    fetch('/management/products/register', {
	        method: 'POST',
	        body: formData,  // FormDataë¥¼ ì§ì ‘ ì „ì†¡
	    })
	    .then(response => response.json())
	    .then(data => {
	        console.log('ìƒí’ˆ ë“±ë¡ ì„±ê³µ:', data);
	        alert('ìƒí’ˆì´ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤.');
			// í¼ ì´ˆê¸°í™”
			   document.getElementById('productForm').reset();  // productFormì€ í¼ì˜ idì…ë‹ˆë‹¤.
	    })
	    .catch(error => {
	        console.error('ìƒí’ˆ ë“±ë¡ ì‹¤íŒ¨:', error);
	        alert('ìƒí’ˆ ë“±ë¡ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');
	    });
	}

	// ì´ë¯¸ì§€ íŒŒì¼ ì„ íƒ í›„ ì¸ë„¤ì¼ ëª©ë¡ ë™ì ìœ¼ë¡œ ì¶”ê°€
	document.getElementById('productImages').addEventListener('change', function() {
	    const thumbnailSelect = document.getElementById('thumbnail');
	    thumbnailSelect.innerHTML = '<option value="">ì¸ë„¤ì¼ ì„ íƒ</option>'; // ì´ˆê¸°í™”
	    
	    const files = this.files;
	    for (let i = 0; i < files.length; i++) {
	        const option = document.createElement('option');
	        option.value = files[i].name; // íŒŒì¼ ì´ë¦„ì„ ì¸ë„¤ì¼ ê°’ìœ¼ë¡œ ì‚¬ìš©
	        option.textContent = files[i].name; // íŒŒì¼ ì´ë¦„ì„ ì˜µì…˜ í…ìŠ¤íŠ¸ë¡œ ì‚¬ìš©
	        thumbnailSelect.appendChild(option);
	    }
	});


</script>
	
		 
		 
		 
		 


		 
		 
		 
		 
		 
		 
		 
		 
		 
			<!--  ì»¨í…ì¸  ì‘ì„±ë€ -->			 
            <!-- End of Main Content -->

            <!-- Footer -->
      		<footer th:replace = "layout/footer :: footer"></footer>
            <!-- End of Footer -->

        </div>
        <!-- End of Content Wrapper -->

    </div>
    <!-- End of Page Wrapper -->

    <!-- Scroll to Top Button-->
    <a class="scroll-to-top rounded" href="#page-top">
        <i class="fas fa-angle-up"></i>
    </a>

    <!-- Logout Modal-->
    <div class="modal fade" id="logoutModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
        aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Ready to Leave?</h5>
                    <button class="close" type="button" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">Ã—</span>
                    </button>
                </div>
                <div class="modal-body">Select "Logout" below if you are ready to end your current session.</div>
                <div class="modal-footer">
                    <button class="btn btn-secondary" type="button" data-dismiss="modal">Cancel</button>
                    <a class="btn btn-primary" href="login.html">Logout</a>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap core JavaScript-->


	  <!-- Bootstrap 4 CSS -->
	  <link th:href="@{https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css}" rel="stylesheet">


	
	  <link rel="stylesheet" th:href="@{/css/registration.css}">
	  		


	
	

	<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
	
    <script src="/bootstrap/vendor/jquery/jquery.min.js"></script>
    <script src="/bootstrap/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

    <!-- Core plugin JavaScript-->
    <script src="/bootstrap/vendor/jquery-easing/jquery.easing.min.js"></script>

    <!-- Custom scripts for all pages-->
    <script src="/bootstrap/js/sb-admin-2.min.js"></script>

    <!-- Page level plugins -->
    <script src="/bootstrap/vendor/chart.js/Chart.min.js"></script>

    <!-- Page level custom scripts -->
    <script src="/bootstrap/js/demo/chart-area-demo.js"></script>
    <script src="/bootstrap/js/demo/chart-pie-demo.js"></script>

</body>

</html>